<html lang="en">
	<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Introduction to FSM</title>
		<link rel="stylesheet" href="css/reveal.css" />
		<link rel="stylesheet" href="css/theme/white.css" />
		<link rel="stylesheet" href="lib/css/zenburn.css" />
		<link rel="stylesheet" href="css/presentation.css" />
		<link rel="icon" href="cropped-favicon-io-3-32x32.png" sizes="32x32" />
		<link rel="icon" href="cropped-favicon-io-3-192x192.png" sizes="192x192" />
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section
				    data-background-image="img/mariquita-en-mi-dedo.jpg">
					<h1 class="bright-text">Introduction to Finite State Machines</h1>
					<p>
						<small>
							by Andr√© Jaenisch and Vladimir Zaikin
						</small>
					</p>
					<p>
						<small>
							Mercedes-Benz.io GmbH, 12th November 2018
						</small>
					</p>
				</section>

				<section>
					<section>
						<h2>What is a Finite State Machine?</h2>
					</section>
					<section>
						A finite state machine (FSM) is
						<ul>
							<li class="fragment">a <i>mathematical description</i> (yes! Math üò®)</li>
							<li class="fragment">of the relationships between a finite number of <i>states</i>,</li>
							<li class="fragment">and a finite number of <i>events</i></li>
							<li class="fragment">that can cause <i>transitions</i> between states.</li>
						</ul>
                        <aside class="notes">
                            <p>
                                It is different from state management patterns like Flux (with Redux as a derivated implementation). We'll explain it more later.
                            </p>
                            <p>
                                Yes, there are ‚Äûinfinite‚Äù (or abstract) machines also. But we won't explore them here today.
                            </p>
                        </aside>
					</section>
				</section>

				<section>
					<section>
						<h2>Problems that <abbr title="Finite State Machines">FSM</abbr> tries to solve</h2>
					</section>
				</section>

				<section>
					<section>
						<h2>Difference between State Management and <abbr title="Finite State Machine">FSM</abbr></h2>
					</section>
					<section
						data-background-image="img/flux-capacitor.png">
						<aside class="notes">Does anybody recognise what this is?</aside>
						<h3 class="fragment bright-text">How is Flux designed?</h3>
					</section>
					<section>
						<p>
							Flux consists of
						</p>
						<ul>
							<li class="fragment">dispatcher</li>
							<li class="fragment">stores</li>
							<li class="fragment">actions</li>
							<li class="fragment">views</li>
						</ul>
					</section>
					<section
					    data-background-size="contain"
						data-background-image="img/flux-simple-diagram-with-client-action.png">
						<aside class="notes">
							So here we see the flow in Flux. You should be familiar with it if you worked with Redux already.
						</aside>
					</section>
					<section>
						<p>
						    You see, it is more focused on
						</p>
						<ul>
							<li class="fragment">the <i>implementation</i> of</li>
							<li class="fragment">the <i>state</i> of (a part of) an application (hold in the store) at any given time,</li>
							<li class="fragment">and the <i>payload</i> of an <i>action</i> to</li>
							<li class="fragment"><i>dispatch</i> a change in the state</li>
							<li class="fragment">which updates its <i>output</i>.</li>
						</ul>
                        <aside class="notes">
                            <p>Put in other words:</p>
                            <p>You don't care, what states are possible.</p>
                            <p>You don't care, what transitions are allowed.</p>
                            <p>You just want a single source of truth, which describes your application at any given time in history (and the set of actions which led to that state, so you can time-travel).</p>
                            <p>You're interested in the behaviour.</p>
                        </aside>
                        <aside class="notes">
                            <p>On the other hand a Finite State Machine cares about what state you are in and what possible transitions you can take to another state.</p>
                            <p>If you try to use an invalid transition, it will be simply ignored (or logged at best).</p>
                            <p>It can't tell you, which exact route you took to get to your current state.</p>
                            <p>So you can implement it as an enum and set of doAction() methods.</p>
                        </aside>
                        <aside class="notes">
                            Luckily you can build a Finite State Machine on top of your state management.
                        </aside>
                    </section>
				</section>
				<section>
					<section>
						<h2>Types of Finite State Machines</h2>
					</section>
				</section>

				<section>
					<section>
						<h2>Machine-readable expression of a Finite State Machine</h2>
					</section>
					<section>
                        <h3><abbr title="State Charts eXtendible Markup Language">SCXML</abbr></h3>
					</section>
					<section>
                        <p>
						    There is a standard at W3C to describe State Charts.
                        </p>
                        <p>
                            It's called <a href="https://www.w3.org/TR/scxml/">SCXML</a> (of course, it's XML).
                            Luckily they designed it as general-purpose event-based state machine language.
                        </p>
                    </section>
                    <section>
                        <p>
                            So you can do a lot of interesting things with it:
                        </p>
                        <ul>
                            <li>Describing the dialogue flow of a chatbot</li>
                            <li>Use it as voice application meta-language</li>
                            <li>Model a microwave</li>
                        </ul>
					</section>
                    <section>
                        <p>
                            To give you an idea of how it looks like,
                            take a peak into <a href="https://commons.apache.org/proper/commons-scxml/guide/scxml-documents.html">Apache Commons SCXML</a>
                        </p>
                        <pre><code
                             class="xml"
                             data-trim="true">
                            <state id="on">
                              <initial>
                                <transition target="idle" />
                              </initial>

                              <state id="idle">
                                <!-- content for state "idle" -->
                              </state>

                              <state id="cooking">
                                <!-- content for state "cooking" -->
                              </state>
                              <!-- other content for state "on" -->
                            </state>
                        </code></pre>
                    </section>
                    <section
                        data-background-size="contain"
                        data-background-image="img/Use_JSON_server_kitty.jpg">
                        <aside class="notes">
                            As proud JavaScript developers, we can't take XML!
                        </aside>
                    </section>
                    <section>
                        <h3>SCION</h3>
                    </section>
                    <section>
                        <p>Actually quite readable.</p>
                        <p>If you want to get your hands dirty, explore <a href="https://scion.scxml.io/">SCION</a>.</p>
                        <p>They're offering a <a href="https://www.npmjs.com/package/@scion-scxml/core">JavaScript framework</a> (doh!) which is built with JSON (surprise!).</p>
                    </section>
                    <section>
                        <p>For our case it would look like this:</p>
                        <pre><code
                            class="json"
                            data-trim="true">
                            {
                                "id": "on"
                                "states": [
                                    {
                                        "id": "idle"
                                    },
                                    {
                                        "id": "cooking"
                                    }
                                ]
                            }
                        </code></pre>
                        <p class="fragment">Not that much different, eh?</p>
                    </section>
                    <section>
                        <h3>Why use a XML standard?</h3>
                    </section>
                    <section>
                        <p>Because it is a standard.</p>
                        <p>That is, you have a well-defined format which encourages interoperability.</p>
                    </section>
                    <section>
                        <p>So if one tool outputs SCXML, another one should be able to read it.</p>
                        <p>XML allows for more meta-information than JSON, but is more verbose.</p>
                        <p>You can exchange cross-programming-language this way.</p>
                    </section>
				</section>

				<section>
					<section>
						<h2>Developer Tools for State Machines and xstate</h2>
					</section>
				</section>

                <section>
                    <section>
                        <h2>Further reading</h2>
                    </section>
                    <section>
                        <p>If you are interested now and want to learn more, check out these resources:</p>
                        <ul>
                            <li>
                                <a href="http://www.swisseduc.ch/informatik/karatojava/kara/screenshots.html">Kara</a>
                                programming language - Teach kids <abbr title="Finite State Machines">FSM</abbr>
                            </li>
                        </ul>
                    </section>
                </section>

				<section>
					<section>
						<h2>Credits</h2>
					</section>
					<section>
						<h3>Image credits</h3>
						<ul>
							<li>
								Flickr:
								<a href="https://flic.kr/p/oRKsPH">mariquita en mi dedo :))))</a> by
								<a href="https://www.flickr.com/photos/70626035@N00/">jacinta lluch valero</a>
								(<a href="https://creativecommons.org/licenses/by-sa/2.0/" title="Creative Commons Attribution-Share Alike 2.0">CC BY-SA 2.0</a>)
							</li>
							<li>
								Flickr:
								<a href="https://flic.kr/p/551rcA">Flux Capacitor</a> by
								<a href="https://www.flickr.com/photos/boltron/">nate bolt</a>
								(<a href="https://creativecommons.org/licenses/by-sa/2.0/" title="Creative Commons Attribution-Share Alike 2.0">CC BY-SA 2.0</a>)
							</li>
                            <li>
                                <a href="https://github.com/facebook/flux/blob/master/examples/flux-concepts/flux-simple-f8-diagram-with-client-action-1300w.png">
                                    flux simple f8 diagram with client action
                                </a> by
                                <a href="https://github.com/kyldvs">Kyle Davis</a>
                                (<a href="https://github.com/facebook/flux/blob/master/LICENSE">BSD</a>)
                            </li>
                            <li>
                                Wikimedia Commons:
                                <a href="https://commons.wikimedia.org/w/index.php?curid=33593310">
                                    Use JSON server kitty
                                </a> by
                                <a href="//commons.wikimedia.org/wiki/User:MaxSem" title="User:MaxSem">MaxSem</a>
                                (<a href="https://creativecommons.org/licenses/by/2.0" title="Creative Commons Attribution 2.0">CC BY 2.0</a>)
						</ul>
					</section>
					<section>
						<p>
							Thanks for listening
						</p>
						<p>
							<a href="https://github.com/mercedesbenzio/introduction-to-fsm">GitHub repo</a>
						</p>
					</section>
				</section>
			</div>
		</div>
		<script src="js/head.min.js" type="text/javascript"></script>
		<script src="js/reveal.js" type="text/javascript"></script>
		<script type="text/javascript">
            Reveal.initialize({
                dependencies: [
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                ]
            });
		</script>
	</body>
</html>
